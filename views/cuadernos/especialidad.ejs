<!DOCTYPE >
<html >
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Especialidad</title>
<%- include("../partials/head") -%>	
<style>
      .info2{ border-radius:100%; float: left; height:80px; width:80px; }
      .info2 .icon{ font-size:50px; color:#FFFFFF; float:left; margin-right:50px; margin:15px 9px 9px 18px;}
</style>

</head>
<body class="light_theme  fixed_header left_nav_fixed">
  <div class="wrapper" id="reg_sala">
  <%- include("../partials/menusali") -%>	
  <div class="inner">
    <div class="left_nav">
      <div class="left_nav_slidebar">
        <ul>
          <li ><a href="javascript:void(0);"><i class="fa fa-home"></i> Home <span class="plus"><i class="fa fa-plus"></i></span> </a>
            <ul >
              <li> <a href="/home"> <span>&nbsp;</span> <i class="fa fa-circle theme_color"></i> <b >Inicio</b> </a> </li>
            </ul>
          </li>
          <li > <a href="javascript:void(0);"> <i class="fa fa-users icon"></i>Admin Sistema  <span class="plus"><i class="fa fa-plus"></i></span></a>
            <ul  >
              <li> <a href="/usuarios/usuarios"> <span>&nbsp;</span> <i class="fa fa-circle theme_color"></i> <b >Registros</b> </a> </li>
            </ul>
          </li>
          <li class="left_nav_active theme_border"> <a href="javascript:void(0);"> <i class="fa fa-clipboard"></i>Servicios<span class="left_nav_pointer"></span><span class="plus"><i class="fa fa-plus"></i></span></a>
            <ul class="opened" style="display:block">
              <li> <a href="/cuaderno/especialidad"> <span>&nbsp;</span> <i class="fa fa-circle"></i> <b class="theme_color">Especialidades</b> </a> </li>
              <li> <a href="/cuaderno/Cuadernos"> <span>&nbsp;</span> <i class="fa fa-circle"></i> <b>Cuadernos</b> </a> </li>
              <li> <a href="/salas/salas"> <span>&nbsp;</span> <i class="fa fa-circle"></i> <b>Salas</b> </a> </li>
            </ul>
          </li>
          <li> <a href="javascript:void(0);"> <i class="fa fa-folder-open-o"></i> Reportes <span class="plus"><i class="fa fa-plus"></i></span> </a>
            <ul>
              <li> <a href="/paciente_Inter"> <span>&nbsp;</span> <i class="fa fa-circle"></i> <b >Reporte de Pacientes</b> </a> </li>
                <li> <a href="/pacientead"> <span>&nbsp;</span> <i class="fa fa-circle"></i> <b >Reporte de Farmacia</b></a> </li>
                <li> <a href="/usuarios/roles"> <span>&nbsp;</span> <i class="fa fa-circle"></i> <b >Reporte de Person.</b> </a> </li>
                <li> <a href="/cuaderno/recuadernos"> <span>&nbsp;</span> <i class="fa fa-circle"></i> <b >Reporte de Cuadr.</b> </a> </li>
                <li> <a href="/cuaderno/repespecialidad"> <span>&nbsp;</span> <i class="fa fa-circle"></i> <b>Reporte de Espc.</b> </a> </li>
            </ul>
          </li>
          <li> <a href="javascript:void(0);"> <i class="fa fa-cogs"></i>CFG del Sistema<span class="plus"><i class="fa fa-plus"></i></span></a>
            <ul>
              <li> <a href="/backup"> <span>&nbsp;</span> <i class="fa fa-circle"></i> <b>Backup</b> </a> </li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
    <div class="contentpanel">
      <div class="container clear_both padding_fix">
        <br>
        <div class="row">
          <div class="col-md-12">
            <div class="block-web">
              <%if (mg1 != null) {%>
                <div class="bs-example mover">
                  <div class="alert alert-danger fade in">
                    <button aria-hidden="true" data-dismiss="alert" class="close" type="button">×</button>
                    <span class="glyphicon glyphicon-hand-right"></span> <strong><Menu:t>Mensaje de Alerta</Menu:t></strong>
                    <hr class="message-inner-separator">
                    <strong><%=mg1 %></strong></div>
                </div>
              <%} else if(mg2 != null) { %>
                <div class="bs-example mover">
                  <div class="alert alert-success fade in">
                    <button aria-hidden="true" data-dismiss="alert" class="close" type="button">×</button>
                    <span class="glyphicon glyphicon-ok"></span> <strong>Mensaje de Confirmación</strong>
                    <hr class="message-inner-separator">  
                    <strong><%=mg2 %></strong>
                  </div>
                </div>
              <% } %>
              <div class="header">
                <div class="actions"><a class="refresh"  role="button" href="/cuaderno/limpiar">Refresh  <span>&nbsp;</span><i class="fa fa-repeat"></i></a> </div>
                <div class="info2 blue_symbols"><i class="fa fa-plus-square icon"></i></div>
                <h3 class="content-header ">Creacion Especialidad </h3>
              </div>
              <br>
              <br>
              <div class="porlets-content">
                <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#demo">Registro Nuevo Usuario</button>
                <br><br>
                <div id="demo" class="collapse in ">
                  <%if (espONE == null) { %>
                    <form class="form-horizontal group-border-dashed" action="/cuaderno/especialidad" method="POST" parsley-validate novalidate>
                      <div class="form-group col-sm-12">
                        <div class="col-sm-4">
                          <label class="control-labe">Especialidad:</label>
                          <select class="selectpicker" data-show-subtext="true" data-live-search="true" name="nombre">
                            <option>CARDIOLOGÍA</option>
                            <option>CIRUGÍA GENERAL</option>
                            <option>CIRUGÍA MAXILOFACIAL</option>
                            <option>CIRUGÍA PEDIATRICA</option>
                            <option>CIRUGÍA PLASTACA</option>
                            <option>DERMATOLOGÍA</option>
                            <option>ENDOCRINOLOGÍA</option>
                            <option>GASTROENTEROLOGÍA</option>
                            <option>GENÉTICA</option>
                            <option>GINECOLOGÍA</option>
                            <option>MEDICINA INTERNA</option>
                            <option>MEDICINA TRADICIONAL</option>
                            <option>NEFROLOGÍA</option>
                            <option>NEUMOLOGÍA</option>
                            <option>NUEROCIRUGÍA</option>
                            <option>NUEROCIRUGÍA CLINICA</option>
                            <option>NUEROCIRUGÍA PEDIÁTRICA</option>
                            <option>OBSTETRICIA</option>
                            <option>ODONTOLOGÍA</option>
                            <option>OFTANMOLOGÍA</option>
                            <option>OTORRINOLARINGOLOGÍA</option>
                            <option>PEDIATRÍA</option>
                            <option>PSIQUIATRÍA INFANTIL</option>
                            <option>REUMATOLOGÍA</option>
                            <option>SALUD MENTAL</option>
                            <option>TELE SALUD</option>
                            <option>TERAPIA INTENSIVA ADULTOS</option>
                            <option>TERAPIA INTENSIVA PEDIATRIA</option>
                            <option>TERAPIA INTENSIVA NEONATAL</option>
                            <option>TRAUMATOLOGÍA</option>
                            <option>TRAUMATOLOGÍA PEDIÁTRICA</option>
                            <option>UROLOGÍA</option>
                          </select>
                        </div>
                        <div class="col-sm-4">
                          <label class="control-labe">Sigla:</label>
                          <input type="text" name="sigla" class="form-control" parsley-trigger="change" required placeholder="Introdusca Sigla" onkeyup="mayus(this)" />
                        </div>
                        <div class="col-sm-4">
                          <label class="control-labe">Area:</label>
                          <input class="form-control" name="descripcion" parsley-trigger="change" required placeholder="Introdusca Area" onkeyup="mayus(this)" />
                        </div>
                      </div>
                      <div class="form-group">
                        <div class="col-sm-offset-4 col-sm-10">
                          <button type="submit" class="btn btn-success btn-icon" >Guardar <span>&nbsp;</span><i class="fa fa-check-square"></i></button><span>&nbsp;&nbsp;&nbsp;</span>
                          <a class="btn btn-danger active btn-icon" aria-pressed="true" role="button"  href="/home">Cancelar<span>&nbsp;</span><i class="fa fa-arrow-left"></i></a><span>&nbsp;&nbsp;&nbsp;</span>
                        </div>
                      </div>
                    </form>
                  <% } else { %>
                    <form class="form-horizontal group-border-dashed" action="/cuaderno/updateEsp/<%=espONE[0].id%>" method="POST" parsley-validate novalidate >
                      <div class="form-group ">
                        <div class="col-sm-4">
                          <label class="control-label">Especialidad:</label>
                          <input type="text" name="nombre" class="form-control"  value="<%=espONE[0].nombre%>" parsley-trigger="change"   required placeholder  onkeyup="mayus(this)"/>
                        </div>
                        <div class="col-sm-4">
                          <label class="control-label">Sigla:</label>
                          <input type="text" name="sigla" class="form-control" value="<%=espONE[0].sigla%>" parsley-trigger="change" required placeholder  onkeyup="mayus(this)"/>
                        </div>
                        <div class="col-sm-4">
                          <label class="control-label">Area:</label>
                          <input class="form-control" name="descripcion" value="<%=espONE[0].descripcion%>" parsley-trigger="change" required placeholder onkeyup="mayus(this)"/>
                        </div>
                      </div> 
                      <div class="col-md-4">
                          <button class="btn btn-success" type="submit"><i class="fa fa-floppy-o"></i><span>&nbsp;</span>Actualizar</button>
                          <a class="btn btn-danger"href="/cuaderno/limpiar"><i class="fa fa-times"></i><span>&nbsp;</span>Limpiar</a>
                        </div>
                    </form>
                  <% } %>
                </div>
                
              </div>
            </div>
          </div>
        </div>
        <textarea name="" id="" cols="30" rows="10">{{$data}}</textarea>
        <div class="row">
        <div class="col-md-12">
          <div class="block-web">
           <div class="header">
             <!-- Lista de Salas-->
              <h3 class="content-header text-center">Lista Especialidades</h3>
            </div>
            <div class="porlets-content">
              <div class="table-responsive">
                <table  class="display table table-bordered table-striped" id="dynamic-table">
                  <thead>
                    <tr>
                            <th class="text-center">#</th>
                            <th class="text-center">Especilidad</th>
                            <th class="text-center">Descripcion</th>
                            <th class="text-center">Area</th>
                            <th class="text-center">Opciones</th>

                    </tr>
                  </thead>
                  <tbody>
                    <% for (var i=0; i< resp.length; i++) { %>
                    <tr>
                      <td class="text-center"><%= i+1%></td>
                      <td class="text-center"><%=resp[i].nombre%></td>
                      <td class="text-center"><%=resp[i].sigla%></td>
                      <td class="text-center"><%=resp[i].descripcion%></td>
                      <td class="text-center">
                        <a @click="data(<%=resp[i].id%>),lista_consulta()" data-target="#myModal2" data-toggle="modal"  data-toggle="tooltip" class="btn  tooltips" data-original-title="Crear Consultorio"><i class="fa fa-user "></i></a>
                        <a href=""  data-toggle="tooltip" class="btn  tooltips" data-original-title="Dar_Baja"><i class="fa fa-trash-o red"></i></a>
                        <a href="/cuaderno/oneEsp/<%=resp[i].id%>"  data-toggle="tooltip" class="btn  tooltips" data-original-title="Editar"><i class="fa fa-pencil " style="color:rgb(80, 145, 80)"></i></a>
                        <a @click="data(<%=resp[i].id%>),lista_doctores()" data-target="#myModal3" data-toggle="modal"  data-toggle="tooltip" class="btn  tooltips" data-original-title="Asignar Doctor"><i class="fa fa-user "></i></a>                        
                      </td>							
                    </tr>
                    <% } %>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        </div>
      </div>
    </div>
  </div>

<div class="modal fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
      <div class="modal-header">
         
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Consultorios </h4>
        <span style="color: blue">{{msg}}</span>
      </div>
      <div class="modal-body"> 
          <section class="panel default blue_title h2">
              <div class="panel-group accordion accordion-semi" id="accordion3">
                  <div class="panel panel-default">
                    <div class="panel-heading">
                      <h4  > <a class="collapsed" data-toggle="collapse" data-parent="#accordion3" href="#ac3-2"> <i class="fa fa-angle-right"></i>Lista de Consultorios</a> </h4>
                    </div>
                    <div id="ac3-2" class="panel-collapse collapse" style="height: 0px;" >
                      <div class="panel-body"> 
                          <div class="col-md-12">
                              <div class="table-responsive" >
                                  <table class="fl-table">
                                      <thead>
                                        <tr>
                                          <th class="text-center">#</th>
                                          <th class="text-center">Sigla</th>
                                          <th class="text-center">Nombre</th>
                                        </tr>
                                      </thead>
                                      <tbody v-for="(list, index) in list_consulta_especialidad">
                                        <tr>
                                          <td>{{index+1}}</td>
                                          <td>{{list.sigla}}</td>
                                          <td>{{list.nombre}}</td>
                                        </tr>
                                      </tbody>
                                  </table>
                              </div>
                          </div>
                      </div>
                    </div>
                  </div>
                </div>
              </section>
        <form class="form-horizontal" @submit="reg_consultorio" parsley-validate novalidate>
        <div class="form-group">
          <label  class="col-sm-2 control-label">Sigla:</label>
          <div class="col-sm-4">
              <input type="text" v-model="sigla" class="form-control" parsley-trigger="change"   />
          </div>
        </div>
        <div class="form-group">
          <label  class="col-sm-2 control-label">Nombre:</label>
          <div class="col-sm-4">
              <input type="text" v-model="nombre" class="form-control" parsley-trigger="change"  />
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-offset-2 col-sm-10">
              <button type="submit" class="btn btn-success btn-icon"  >Guardar <span>&nbsp;</span><i class="fa fa-check-square"></i></button><span>&nbsp;&nbsp;&nbsp;</span>
						  <button type="reset"class="btn btn-danger btn-icon" data-dismiss="modal">Cancelar <span>&nbsp;</span><i class="fa fa-times"></i></button>
          </div>
        </div> 
        </form>
      </div>
      </div>
    </div>
</div>
<div class="modal fade" id="myModal3" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
    <div class="modal-header">
       
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
      <h4 class="modal-title" id="myModalLabel">Consultorios </h4>
      <span style="color: blue">{{msg}}</span>
    </div>
    <div class="modal-body"> 
        <section class="panel default blue_title h2">
            <div class="panel-group accordion accordion-semi" id="accordion3">
                <div class="panel panel-default">
                  <div class="panel-heading">
                    <h4  > <a class="collapsed" data-toggle="collapse" data-parent="#accordion3" href="#ac3-3"> <i class="fa fa-angle-right"></i>Lista de Consultorios</a> </h4>
                  </div>
                  <div id="ac3-3" class="panel-collapse collapse" style="height: 0px;" >
                    <div class="panel-body"> 
                        <div class="col-md-12">
                            <div class="table-responsive" >
                                <table class="fl-table">
                                    <thead>
                                      <tr>
                                        <th class="text-center">#</th>
                                        <th class="text-center">Nombre</th>
                                        <th class="text-center">ci</th>
                                      </tr>
                                    </thead>
                                    <tbody v-for="(list, index) in especilidad_lista_medicas">
                                      <tr>
                                        <td>{{index+1}}</td>
                                        <td>{{list.nombre_doctor}}</td>
                                        <td>{{list.ci}}</td>
                                      </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                  </div>
                </div>
              </div>
            </section>
      <form class="form-horizontal" @submit="register_medicos" parsley-validate novalidate>
          <div class="form-group">
			  			<label for="inputPassword3" class="col-sm-2 control-label">C.I.:<i class="fa fa-users"> :</i></label>
			  			<div class="col-sm-8">
							<select v-model="ci_medico" @click="list_medicos">
                <option disabled> Buscar por C.I... </option>
				  			<% for(var i = 0; i< Lista_medicos.length; i++) { %>
                  <option><%=Lista_medicos[i].ci%></option>
                <% } %>
							</select>
			  			</div>
					</div><!--/form-group-->
      <div class="form-group">
        <label  class="col-sm-2 control-label">Personal:</label>
        <div class="col-sm-4">
            <input type="text" v-model="nombre_medico" class="form-control" parsley-trigger="change"  />
        </div>
      </div>
      <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <button type="submit" class="btn btn-success btn-icon"  >Guardar <span>&nbsp;</span><i class="fa fa-check-square"></i></button><span>&nbsp;&nbsp;&nbsp;</span>
            <button type="reset"class="btn btn-danger btn-icon" data-dismiss="modal">Cancelar <span>&nbsp;</span><i class="fa fa-times"></i></button>
        </div>
      </div> 
      </form>
    </div>
    </div>
  </div>
</div>
  </div>
<script>
  function buscarSelect()
  {
    // creamos un variable que hace referencia al select
    var select=document.getElementById("elementos");
   
    // obtenemos el valor a buscar
    var buscar=document.getElementById("buscar").value;
   
    // recorremos todos los valores del select
    for(var i=1;i<select.length;i++)
    {
      if(select.options[i].text==buscar)
      {
        // seleccionamos el valor que coincide
        select.selectedIndex=i;
      }
    }
  }
  </script>
<script src="/js/jquery-2.1.0.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/common-script.js"></script>
<script src="/js/jquery.slimscroll.min.js"></script>
<script src="/plugins/data-tables/jquery.dataTables.js"></script>
<script src="/plugins/data-tables/DT_bootstrap.js"></script>
<script src="/plugins/data-tables/dynamic_table_init.js"></script>
<script src="/plugins/edit-table/edit-table.js"></script>

<!--Alertas-->
<script src="/js/alert.js"></script>

<!--select Buscar-->
<script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.6.3/js/bootstrap-select.min.js"></script>
<!--pdf-->
<script src="/js/pdf.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.5/jspdf.debug.js"></script>

<!--Validaciones-->
<script type="text/javascript"  src="/plugins/toggle-switch/toggles.min.js"></script> 
<script src="/plugins/checkbox/zepto.js"></script>
<script src="/plugins/checkbox/icheck.js"></script>
<script src="/js/icheck-init.js"></script>
<script type="text/javascript" src="/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script> 
<script type="text/javascript" src="/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.js"></script> 
<script type="text/javascript" src="/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.js"></script> 
<script type="text/javascript" src="/plugins/bootstrap-timepicker/js/bootstrap-timepicker.js"></script> 
<script type="text/javascript" src="/js/form-components.js"></script> 
<script type="text/javascript"  src="/plugins/input-mask/jquery.inputmask.min.js"></script> 
<script type="text/javascript"  src="/plugins/input-mask/demo-mask.js"></script> 
<script type="text/javascript"  src="/plugins/bootstrap-fileupload/bootstrap-fileupload.min.js"></script> 
<script type="text/javascript"  src="/plugins/dropzone/dropzone.min.js"></script> 
<script type="text/javascript" src="/plugins/ckeditor/ckeditor.js"></script>



<script src="/plugins/validation/parsley.min.js"></script>

<!--Mayusculas-->
<script>
  function mayus(e) {
  e.value = e.value.toUpperCase();
}
</script>
<script>


/*==Porlets Actions==*/
    $('.minimize').click(function(e){
      var h = $(this).parents(".header");
      var c = h.next('.porlets-content');
      var p = h.parent();
      
      c.slideToggle();
      
      p.toggleClass('closed');
      
      e.preventDefault();
    });
    
    $('.refresh').click(function(e){
      var h = $(this).parents(".header");
      var p = h.parent();
      var loading = $('&lt;div class="loading"&gt;&lt;i class="fa fa-refresh fa-spin"&gt;&lt;/i&gt;&lt;/div&gt;');
      
      loading.appendTo(p);
      loading.fadeIn();
      setTimeout(function() {
        loading.fadeOut();
      }, 1000);
      
      e.preventDefault();
    });
    
    $('.close-down').click(function(e){
      var h = $(this).parents(".header");
      var p = h.parent();
      
      p.fadeOut(function(){
        $(this).remove();
      });
      e.preventDefault();
    });

</script>
<script>
    jQuery(document).ready(function() {
			EditableTable.init()
		});
 </script>
 
 <script src="/js/jPushMenu.js"></script> 
<script src="/js/side-chats.js"></script>



<script>
	$('#bs').materialSelect({
		BSsearchIn: true
	});
</script>

 <script src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
<script src="/axios/dist/axios.min.js"></script>

<script src="/js/vue/reg_consultorio.js"></script>

</body>
</html>
